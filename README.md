# **弈仙牌模拟器**<br>
模拟弈仙牌的战斗过程<br>
下载该代码，请在终端中或cmd中输入：
```shell
git clone https://github.com/icarried/YiXian.git
```
    
## *卡牌*<br>
完成了所有锻玄宗卡牌（机缘秘术牌除外）<br>
详见`src/cards/`目录<br>
    
## *角色*<br>
目前仅有锻玄宗角色，并且只完成了部分仙命<br>
详见`src/roles/`目录<br>
    
## *buff和debuff*<br>
囊括了基本所有门派卡牌能造成的debuff<br>
buff完成了大部分<br>
详见`src/status_effects/`目录<br>
    
## *输出示例*
在终端中输出的战斗内容带有颜色，方便区分<br>
蓝色为我方受到的影响，红色为受到的影响，以下示例并未展示颜色<br>
```
我方角色：叶冥冥
我方仙命：[阴晴圆缺] [入冥] [疯魔] [崩拳·冥夜] [冥月蟾光]
我方卡组
2级《鹤步》 1级《崩拳·冥夜》 1级《冥月蟾光》 2级《崩天步》 2级《锻神开海》 1级《疯魔》 1级《崩拳·降龙》 1级《百杀破境掌》
敌方角色：小布
敌方仙命：[磨砺不止] [锻体不息] [灵涌不竭] [空仙命] [修玄不泯]
敌方卡组
2级《修罗吼》 1级《修罗吼》 2级《恶虎扑食》 1级《恶虎扑食》 2级《玄手夺魂》 1级《玄手夺魂》 1级《玄手夺魂》 2级《玄心斩魄》
战斗开始…………
, 增加3点速度, 剩余3点速度, 获得1层冥, 恢复3点血, 剩余113/170点血我方修为：51，速度：3
敌方修为：50，速度：0
先手方为我方
--------第1回合--------
我方回合
血量：113/170，灵气：0，体魄：60/60 气势上限: 6  冥: 1
使用了第1张牌2级《鹤步》, 恢复5点血, 剩余118/170点血, 获得13层身法
, 减少10层身法, 获得再次行动效果我方身法转化为再次行动
我方再次行动
使用了第2张牌1级《崩拳·冥夜》, 获得2层冥, 恢复6点血, 剩余124/170点血
敌方回合
血量：110/125，灵气：0，体魄：15/60 气势上限: 6
使用了第1张牌2级《修罗吼》, 获得6层内伤, 恢复6点血, 剩余116/125点血, 获得6层内伤, 增加3点灵气, 剩余3点灵气, 恢复3点血, 剩余119/125点血
--------第2回合--------
我方回合
血量：124/170，灵气：0，体魄：60/60 气势上限: 6 身法: 3  内伤: 6 冥: 3
我方由于内伤失去6点血, 剩余118/170点血, 受到{6}点伤害
使用了第3张牌1级《冥月蟾光》, 增加2点体魄, 剩余62点体魄, 增加2点血量上限, 剩余172点血量上限, 恢复2点血, 剩余120/172点血, 获得2层冥, 恢复6点血, 剩余126/172点血, 获得10层身法
, 减少10层身法, 获得再次行动效果我方身法转化为再次行动
我方再次行动
使用了第4张牌2级《崩天步》, 增加2点灵气, 剩余2点灵气, 获得4层身法
敌方回合
血量：119/125，灵气：3，体魄：15/60 气势上限: 6  内伤: 6
敌方由于内伤失去6点血, 剩余113/125点血, 受到{6}点伤害
使用了第2张牌1级《修罗吼》, 获得4层内伤, 恢复4点血, 剩余117/125点血, 获得4层内伤, 增加5点灵气, 剩余8点灵气, 恢复5点血, 剩余125/125点血
--------第3回合--------
我方回合
血量：126/172，灵气：2，体魄：62/60 气势上限: 6 身法: 7  内伤: 10 冥: 5
我方由于内伤失去10点血, 剩余116/172点血, 受到{10}点伤害
使用了第5张牌2级《锻神开海》, 攻{8}, 对敌方造成{8}点伤害失去8点血, 剩余117/125点血, 增加4点体魄, 剩余66点体魄, 增加4点血量上限, 剩余176点血量上限, 恢复4点血, 剩余120/176点血, 获得1层加攻, 获得6层身法
, 减少10层身法, 获得再次行动效果我方身法转化为再次行动
我方再次行动
使用了第6张牌1级《疯魔》, 获得2层冥, 恢复6点血, 剩余126/176点血, 获得1层破绽, 增加01层, 获得1层虚弱, 增加31层, 增加21点体魄, 剩余87点体魄, 增加21点血量上限, 剩余197点血量上限, 恢复21点血, 剩余147/197点血
, 减少1层破绽, 减少1层虚弱敌方回合
血量：117/125，灵气：8，体魄：15/60 气势上限: 6  内伤: 10
敌方由于内伤失去10点血, 剩余107/125点血, 受到{10}点伤害
使用了第3张牌2级《恶虎扑食》, 攻{22}, 对敌方造成{22}点伤害失去22点血, 剩余125/197点血
--------第4回合--------
我方回合
血量：125/197，灵气：2，体魄：87/60 加攻: 1 气势上限: 6 身法: 3  内伤: 10 冥: 7
我方由于内伤失去10点血, 剩余115/197点血, 受到{10}点伤害
失去5点血, 剩余110/197点血消耗5点血量，使用了第7张牌1级《崩拳·降龙》, 攻{16}, 对敌方造成{17}点伤害失去17点血, 剩余90/125点血
敌方回合
血量：90/125，灵气：8，体魄：15/60 气势上限: 6  内伤: 10
敌方由于内伤失去10点血, 剩余80/125点血, 受到{10}点伤害
使用了第4张牌1级《恶虎扑食》, 攻{18}, 对敌方造成{18}点伤害失去18点血, 剩余92/197点血
--------第5回合--------
我方回合
血量：92/197，灵气：2，体魄：87/60 加攻: 1 气势上限: 6 身法: 3  内伤: 10 冥: 7
我方由于内伤失去10点血, 剩余82/197点血, 受到{10}点伤害
使用了第8张牌1级《百杀破境掌》, 增加5点防御, 剩余5点防御, 攻{13}, 对敌方造成{14}点伤害失去14点血, 剩余66/125点血, 攻{13}, 对敌方造成{14}点伤害失去14点血, 剩余52/125点血, 攻{13}, 对敌方造成{14}点伤害失去14点血, 剩余38/125点血, 攻{13}, 对敌方造成{14}点伤害失去14点血, 剩余24/125点血
敌方回合
血量：24/125，灵气：8，体魄：15/60 气势上限: 6  内伤: 10
敌方由于内伤失去10点血, 剩余14/125点血, 受到{10}点伤害
, 失去1点灵气, 剩余7点灵气, 使用了第5张牌2级《玄手夺魂》, 吸取20点血, 敌方失去20点血, 剩余62/197点血, 恢复20点血, 剩余34/125点血
--------第6回合--------
我方回合
血量：62/197，灵气：2，防：5，体魄：87/60 加攻: 1 气势上限: 6 身法: 3  内伤: 10 冥: 7
我方由于内伤失去10点血, 剩余52/197点血, 受到{10}点伤害
, 失去3点防御, 剩余2点防御我方防减半，剩余2点防
使用了第1张牌2级《鹤步》, 恢复5点血, 剩余57/197点血, 获得13层身法
, 减少10层身法, 获得再次行动效果我方身法转化为再次行动
我方再次行动
使用了第3张牌1级《冥月蟾光》, 增加2点体魄, 剩余89点体魄, 增加2点血量上限, 剩余199点血量上限, 恢复2点血, 剩余59/199点血, 获得2层冥, 恢复6点血, 剩余65/199点血, 获得10层身法
敌方回合
血量：34/125，灵气：7，体魄：15/60 气势上限: 6  内伤: 10
敌方由于内伤失去10点血, 剩余24/125点血, 受到{10}点伤害
, 失去1点灵气, 剩余6点灵气, 使用了第6张牌1级《玄手夺魂》, 吸取14点血, 敌方失去14点血, 剩余51/199点血, 恢复14点血, 剩余38/125点血
--------第7回合--------
我方回合
血量：51/199，灵气：2，防：2，体魄：89/60 加攻: 1 气势上限: 6 身法: 16  内伤: 10 冥: 9
我方由于内伤失去10点血, 剩余41/199点血, 受到{10}点伤害
, 失去1点防御, 剩余1点防御我方防减半，剩余1点防
使用了第5张牌2级《锻神开海》, 攻{8}, 对敌方造成{9}点伤害失去9点血, 剩余29/125点血, 增加4点体魄, 剩余93点体魄, 增加4点血量上限, 剩余203点血量上限, 恢复4点血, 剩余45/203点血, 获得1层加攻, 获得6 层身法
, 减少10层身法, 获得再次行动效果我方身法转化为再次行动
我方再次行动
使用了第6张牌1级《疯魔》, 获得2层冥, 恢复6点血, 剩余51/203点血, 获得1层破绽, 增加01层, 获得1层困缚, 增加51层, 增加25点体魄, 剩余118点体魄, 增加25点血量上限, 剩余228点血量上限, 恢复25点血, 剩余76/228点血
, 减少1层破绽我方因困缚无法再次行动
敌方回合
血量：29/125，灵气：6，体魄：15/60 气势上限: 6  内伤: 10
敌方由于内伤失去10点血, 剩余19/125点血, 受到{10}点伤害
, 失去1点灵气, 剩余5点灵气, 使用了第7张牌1级《玄手夺魂》, 吸取14点血, 敌方失去14点血, 剩余62/228点血, 恢复14点血, 剩余33/125点血
--------第8回合--------
我方回合
血量：62/228，灵气：2，防：1，体魄：118/60 加攻: 2 气势上限: 6 身法: 12  内伤: 10 困缚: 1 冥: 11
我方由于内伤失去10点血, 剩余52/228点血, 受到{10}点伤害
, 失去1点防御, 剩余0点防御我方防减半，剩余0点防
失去5点血, 剩余47/228点血消耗5点血量，使用了第7张牌1级《崩拳·降龙》, 攻{10}, 对敌方造成{12}点伤害失去12点血, 剩余21/125点血
我方因困缚无法再次行动
敌方回合
血量：21/125，灵气：5，体魄：15/60 气势上限: 6  内伤: 10
敌方由于内伤失去10点血, 剩余11/125点血, 受到{10}点伤害
, 失去1点灵气, 剩余4点灵气, 使用了第8张牌2级《玄心斩魄》, 获得2层内伤, 获得10层气势, 攻{14}, 对敌方造成{28}点伤害失去28点血, 剩余19/228点血, 减少10层气势
--------第9回合--------
我方回合
血量：19/228，灵气：2，体魄：118/60 加攻: 2 气势上限: 6 身法: 12  内伤: 12 困缚: 1 冥: 11
我方由于内伤失去12点血, 剩余7/228点血, 受到{12}点伤害
使用了第8张牌1级《百杀破境掌》, 增加5点防御, 剩余5点防御, 攻{21}, 对敌方造成{23}点伤害失去23点血, 剩余-12/125点血, 攻{21}, 对敌方造成{23}点伤害失去23点血, 剩余-35/125点血, 攻{21}, 对敌方造成{23}点伤害失去23点血, 剩余-58/125点血, 攻{21}, 对敌方造成{23}点伤害失去23点血, 剩余-81/125点血, 攻{21}, 对敌方造成{23}点伤害失去23点血, 剩余-104/125点血
我方胜利
我方剩余血量：7
敌方剩余血量：-104
命元伤害：21
我方胜利
战斗结束…………
```
    
## *使用方法*<br>
修改`my_info.yaml`文件和`enemy_info.yaml`函数，按自己的需求修改角色、仙命、状态、卡牌等信息再运行即可，请填写正确的角色名、仙命名、卡牌名<br>
以修改己方信息为例：<br>
```yaml
role:
  name: "小布"
  realm: "化神期"
destinys:
  # 炼气期仙命
  - name: "空仙命"
  # 筑基期仙命
  - name: "空仙命"
  # 金丹期仙命
  - name: "空仙命"
  # 元婴期仙命
  - name: "空仙命"
  # 化神期仙命
  - name: "修玄不泯"
status:
  # 状态值可选，不需要的可以注释掉
  health: 65
  health_max: 65
  #ling_qi: 0
  xiu_wei: 51
  #ti_po: 0
  #ti_po_max: 0
cards:
  # 第1张牌
  - name: "修罗吼"
    level: 1
  # 第2张牌
  - name: "罗刹扑"
    level: 1
  # 第3张牌
  - name: "罗刹扑"
    level: 1
  # 第4张牌
  - name: "普通攻击"
    level: 1
  # 第5张牌
  - name: "普通攻击"
    level: 1
  # 第6张牌
  - name: "普通攻击"
    level: 1
  # 第7张牌
  - name: "普通攻击"
    level: 1
  # 第8张牌
  - name: "普通攻击"
    level: 1
```
*目前仅完成了锻玄宗的卡牌效果*<br>

DIY卡牌时，其中卡牌的命名方法为`Card_{门派或副职或机缘}_{卡牌所属境界}_{卡牌名拼音全小写}`，详解如下<br>
```
命名方法：
牌以Card_开头，后面跟牌的信息
card_{门派或副职或机缘}_{境界}_{牌名}

*门派或副职或机缘*：
云灵剑宗：yl
七星阁：qx
五行道盟：wx
锻玄宗：dx

炼丹师：lds
符箓师：fls
琴师：qs
画师：hs
阵法师：zfs
灵植师：lzs

法宝：fbjy
灵兽：lsjy
云灵剑宗机缘：yljy
七星阁机缘：qxjy
五行道盟机缘：wxjy
锻玄宗机缘：dxjy

专属仙命牌：zsxm
其他：qt

*境界*：
炼气期：lqq
筑基期：zjq
金丹期：jdq
元婴期：yyq
化神期：hsq
返虚期：fxq
其他：qtq

*特殊情况*
“·”用“_”代替，如“崩拳·惊触”为“bengquan_jingchu”，全名为“Card_dx_hsq_bengquan_jingchu”
```
    
如果需要添加DIY的卡牌，需要在`src/cards/`目录下找到对应.h文件，复制其他卡牌的写法修改类名和效果完成卡牌定义<br>

构建方法：
```shell
cd build
cmake ..
```
如果使用的是vscode，可以按照以下修改`.vscode/tasks.json`文件和`.vscode/launch.json`文件，然后在`src/main.cpp`处运行，选择cmake构建，确保`cmmake`和`g++`已经安装
具体文件内容：
`tasks.json`
```json
{
    "tasks": [
        {
            "type": "shell",
            "label": "C/C++: cmake build",
            "command": "cmake",
            "args": [
                "--build",
                "${workspaceFolder}/build"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "silent"
            },
            "problemMatcher": [
                "$gcc"
            ]
        }
        
    ],
    
    "version": "2.0.0"
}
```
`launch.json`
```json
{
    "configurations": [
        {
            "name": "C/C++: g++.exe build and debug active file",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}\\build\\${fileBasenameNoExtension}.exe",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "miDebuggerPath": "C:\\msys64\\ucrt64\\bin\\gdb.exe",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ],
            "preLaunchTask": "C/C++: cmake build"
        }
    ],
    "version": "2.0.0"
}
```
    
## *其他*<br>
暂未开发图形化界面<br>
代码过于繁杂请见谅<br>
若道友愿意完成卡牌效果、仙命，欢迎提交PR<br>


