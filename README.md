# **弈仙牌模拟器**<br>
模拟弈仙牌的战斗过程<br>
下载该代码，请在终端中或cmd中输入：
```shell
git clone https://github.com/icarried/YiXian.git
```
    
## *卡牌*<br>
完成了所有锻玄宗卡牌（机缘秘术牌除外）<br>
详见`src/cards/`目录<br>
    
## *角色*<br>
目前仅有锻玄宗角色，并且只完成了部分仙命<br>
详见`src/roles/`目录<br>
    
*buff和debuff*<br>
囊括了基本所有门派卡牌能造成的debuff<br>
buff完成了大部分<br>
详见`src/status_effects/`目录<br>
    
## *输出示例*
```
我方角色：小布
我方仙命：[空仙命] [空仙命] [空仙命] [空仙命] [修玄不泯] 
我方卡组
1级《修罗吼》 1级《罗刹扑》 1级《罗刹扑》 1级《玄心斩魄》 1级《普通攻击》 1级《普通攻击》 1级《普通攻击》 1级《普通攻击》 
敌方角色：小布
敌方仙命：[空仙命] [空仙命] [空仙命] [空仙命] [修玄不泯] 
敌方卡组
1级《修罗吼》 1级《罗刹扑》 1级《罗刹扑》 1级《玄心斩魄》 1级《普通攻击》 1级《普通攻击》 1级《普通攻击》 1级《普通攻击》 
战斗开始…………
--------第1回合--------
我方回合
血量：65/65，灵气：0 气势上限: 6  
使用了第1张牌1级《修罗吼》，获得4层内伤，恢复4点血，剩余65/65点血，获得4层内伤，恢复4点血，剩余65/65点血，增加2点灵气，剩余2点灵气，恢复2点血，剩余65/65点血
敌方回合
血量：65/65，灵气：0 气势上限: 6  内伤: 4 
失去4点血，剩余61/65点血，受到{4}点伤害敌方受到内伤造成4点伤害
使用了第1张牌1级《修罗吼》，获得4层内伤，恢复4点血，剩余65/65点血，获得4层内伤，恢复4点血，剩余65/65点血，增加4点灵气，剩余4点灵气，恢复4点血，剩余65/65点血
--------第2回合--------
我方回合
血量：65/65，灵气：2 气势上限: 6  内伤: 8
失去8点血，剩余57/65点血，受到{8}点伤害我方受到内伤造成8点伤害
使用了第2张牌1级《罗刹扑》，攻{8}，对敌方造成{8}点伤害失去8点血，剩余57/65点血，增加1点灵气，剩余3点灵气，获得1层外伤，恢复1点血，剩余58/65点血
敌方回合
血量：57/65，灵气：4 气势上限: 6  内伤: 8
失去8点血，剩余49/65点血，受到{8}点伤害敌方受到内伤造成8点伤害
使用了第2张牌1级《罗刹扑》，攻{8}，对敌方造成{9}点伤害失去9点血，剩余49/65点血，增加1点灵气，剩余5点灵气，获得1层外伤，恢复1点血，剩余50/65点血
--------第3回合--------
我方回合
血量：49/65，灵气：3 气势上限: 6  外伤: 1 内伤: 8
失去8点血，剩余41/65点血，受到{8}点伤害我方受到内伤造成8点伤害
使用了第3张牌1级《罗刹扑》，攻{8}，对敌方造成{9}点伤害失去9点血，剩余41/65点血，增加1点灵气，剩余4点灵气，获得1层外伤，恢复1点血，剩余42/65点血
敌方回合
血量：41/65，灵气：5 气势上限: 6  外伤: 1 内伤: 8
失去8点血，剩余33/65点血，受到{8}点伤害敌方受到内伤造成8点伤害
使用了第3张牌1级《罗刹扑》，攻{8}，对敌方造成{10}点伤害失去10点血，剩余32/65点血，增加1点灵气，剩余6点灵气，获得1层外伤，恢复1点血，剩余34/65点血
--------第4回合--------
我方回合
血量：32/65，灵气：4 气势上限: 6  外伤: 2 内伤: 8
失去8点血，剩余24/65点血，受到{8}点伤害我方受到内伤造成8点伤害
，失去1点灵气，剩余3点灵气，使用了第4张牌1级《玄心斩魄》，获得2层外伤，恢复2点血，剩余36/65点血，获得2层内伤，恢复2点血，剩余38/65点血，获得10层气势，攻{8}，对敌方造成{24}点伤害失去24点血，剩余14/65点血，减少10层气势
敌方回合
血量：14/65，灵气：6 气势上限: 6  外伤: 4 内伤: 10 
失去10点血，剩余4/65点血，受到{10}点伤害敌方受到内伤造成10点伤害
，失去1点灵气，剩余5点灵气，使用了第4张牌1级《玄心斩魄》，获得2层外伤，恢复2点血，剩余26/65点血，获得2层内伤，恢复2点血，剩余28/65点血，获得14层气势，攻{8}，对敌方造成{28}点伤害失去28点血，剩余0/65点血，减 少14层气势
敌方胜利
我方剩余血量：0
敌方剩余血量：4
命元伤害：11
敌方胜利
战斗结束…………
```
    
## *使用方法*<br>
修改`src/game.h`文件，按自己的需求修改角色、仙命、卡牌等信息，然后编译src内所有.cpp文件即可<br>
构建方法：
```shell
cd build
cmake ..
```
如果使用的是vscode，可以按照以下修改`.vscode/tasks.json`文件和`.vscode/launch.json`文件，然后在`src/main.cpp`处运行，选择cmake构建，确保`cmmake`和`g++`已经安装
具体文件内容：
`tasks.json`
```json
{
    "tasks": [
        {
            "type": "shell",
            "label": "C/C++: cmake build",
            "command": "cmake",
            "args": [
                "--build",
                "${workspaceFolder}/build"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "silent"
            },
            "problemMatcher": [
                "$gcc"
            ]
        }
        
    ],
    
    "version": "2.0.0"
}
```
`launch.json`
```json
{
    "configurations": [
        {
            "name": "C/C++: g++.exe build and debug active file",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}\\build\\${fileBasenameNoExtension}.exe",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "miDebuggerPath": "C:\\msys64\\ucrt64\\bin\\gdb.exe",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ],
            "preLaunchTask": "C/C++: cmake build"
        }
    ],
    "version": "2.0.0"
}
```
    
## *其他*<br>
暂未开发图形化界面<br>
代码过于繁杂请见谅<br>
若道友愿意完成卡牌效果、仙命，欢迎提交PR<br>


